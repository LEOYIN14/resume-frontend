# 开发指南

## 项目启动

### 1. 安装依赖
```bash
# 安装根项目依赖
npm install

# 安装所有子项目依赖
npm run install:all
```

### 2. 环境配置
1. 复制 `backend/.env.example` 为 `backend/.env`
2. 配置 DeepSeek API Key
3. 根据需要调整其他配置

### 3. 启动开发服务器
```bash
# 同时启动前端和后端
npm run dev

# 或分别启动
npm run dev:frontend  # 前端 (端口 3000)
npm run dev:backend   # 后端 (端口 8000)
```

## 项目结构说明

### 前端 (frontend/)
- `src/components/` - 可复用组件
- `src/pages/` - 页面组件
- `src/store/` - Redux状态管理
- `src/types/` - TypeScript类型定义
- `src/hooks/` - 自定义React Hooks

### 后端 (backend/)
- `src/routes/` - API路由
- `src/database/` - 数据库配置和模型
- `src/middleware/` - 中间件
- `src/services/` - 业务逻辑服务

## 开发规范

### 代码风格
- 使用 TypeScript 严格模式
- 遵循 ESLint 规则
- 组件使用函数式组件和 Hooks
- 状态管理使用 Redux Toolkit

### 提交规范
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构
- test: 测试相关

## API 接口文档

### 项目管理
- GET `/api/projects` - 获取项目列表
- POST `/api/projects` - 创建项目
- GET `/api/projects/:id` - 获取项目详情
- PUT `/api/projects/:id` - 更新项目
- DELETE `/api/projects/:id` - 删除项目

### 简历管理
- GET `/api/resume/latest` - 获取最新简历
- POST `/api/resume` - 创建/更新简历
- GET `/api/resume/history` - 获取简历历史

### 技能管理
- GET `/api/skills` - 获取技能列表
- POST `/api/skills` - 添加技能
- GET `/api/skills/categories` - 获取技能分类

### AI功能
- POST `/api/ai/generate-resume` - AI生成简历
- POST `/api/ai/analyze-skills` - 技能分析
- GET `/api/ai/usage` - AI使用统计

## 数据库设计

### 主要表结构
- `projects` - 项目信息
- `skills` - 技能信息
- `resumes` - 简历信息
- `documents` - 文档信息
- `ai_usage` - AI使用记录

## 项目进度记录

### 当前进度状态
- **完成情况**：项目处于**第一阶段：MVP开发**的中期阶段
- **已完成工作**：
  - 基础布局框架（Header和Sidebar组件）
  - 路由系统配置，包含Dashboard、Projects、Resume、Skills等页面
  - Dashboard页面基础布局和统计展示
  - 数据库表结构创建（projects、documents、skills、resumes、ai_usage）
  - 简历相关API基础功能实现
  - 通用表单组件开发：
    - Button组件：直接使用Ant Design v5原生API，确保类型兼容性
    - Input组件：支持label和error状态显示
    - Select组件：支持单选/多选，size属性兼容性处理
    - DatePicker组件：支持日期格式自定义，修复类型导入问题
    - Table组件：支持rowKey配置、加载状态、空数据提示和分页功能
  - ProjectCard组件：项目信息展示
  - ProjectStatusChart组件：项目进度展示
  - 组件测试页面创建与测试
  - UI组件样式优化：
    - 解决选择器组件关闭问题
    - 优化时间选择器样式和交互体验
    - 改进按钮样式使其更柔和不突兀
    - 修复单选选择器展示不全问题
    - 优化鼠标停留选项时的字体显示
  - 项目代码清理：移除测试组件和相关路由配置
  - 搜索和筛选交互优化：
    - 实现动态筛选标签显示（含单独关闭和清空全部功能）
    - 增强视觉反馈和动画效果（过渡动画、聚焦高亮、悬停效果）
    - 改进界面设计和提示（卡片样式、占位符文本、视图切换按钮样式）
    - 实现筛选条件动态显示和清除逻辑
    - 修复React Hooks规则违反问题和CSS语法错误
  - 简历模板系统基础开发：
    - 实现个人信息区域布局和样式
    - 开发照片上传组件基础功能
    - 优化个人信息展示格式
- **已知问题（待修复）**：
  - 简历照片没有显示，并不知道具体导入位置
  - 整体的UI需要优化
  - 按钮需要优化
- **当前任务**：简历模板系统开发
- **下一步计划**：
  1. 设计简约专业型、创意设计型和技术专长型简历模板
  2. 实现模板样式系统和数据结构
  3. 开发模板渲染引擎核心功能
  4. 完成简历内容与模板关联机制
  5. 实现模板切换和预览功能

## 每日开发计划

### 第一阶段：MVP开发（第1-5周）

#### 今日完成工作（简历模板优化）
- 优化个人信息区域显示格式，将具体内容替换为提示性文本
- 改进照片上传组件交互，添加明显的上传提示
- 调整简历布局结构，确保照片区域正确显示

#### 明日开发任务（Bug修复与优化）
- 上午：修复照片上传功能，确保照片正确显示并提供明确的导入指引
- 上午：优化整体UI设计，提升简历页面的视觉效果
- 下午：改进按钮样式和交互，确保按钮风格统一且易于识别
- 下午：进行综合测试，验证所有修复是否生效

#### 第1周：基础UI组件开发

**周一**
- 上午：项目启动会议，确认开发环境
- 下午：完成Layout组件结构设计
- 任务：创建Header组件基础结构和样式

**周二**
- 上午：开发Sidebar组件
- 下午：实现Header与Sidebar的交互逻辑
- 任务：完成响应式布局适配

**周三**
- 上午：开发通用按钮组件
- 下午：实现表单基础组件（Input、Select、DatePicker等）
- 任务：创建组件样式主题系统

**周四**
- 上午：开发表格组件
- 下午：实现列表组件
- 任务：创建组件文档和使用示例

**周五**
- 上午：完成Dashboard页面布局
- 下午：代码审查和合并，周总结会议
- 任务：修复UI组件Bug

#### 第2周：数据模型设计与数据库实现

**周一**
- 上午：数据库设计会议
- 下午：设计用户数据模型
- 任务：创建数据库表结构文档

**周二**
- 上午：设计简历数据模型
- 下午：设计项目数据模型
- 任务：实现数据库连接配置

**周三**
- 上午：设计技能数据模型
- 下午：实现SQLite数据库表创建脚本
- 任务：创建数据库迁移工具

**周四**
- 上午：开发数据库操作工具类
- 下午：实现基础CRUD操作
- 任务：编写数据库单元测试

**周五**
- 上午：完成数据迁移脚本
- 下午：代码审查和合并，周总结会议
- 任务：数据库性能测试

#### 第3周：简历模板系统

**周一**
- 上午：简历模板设计会议
- 下午：设计简约专业型模板
- 任务：创建模板数据结构

**周二**
- 上午：设计创意设计型模板
- 下午：设计技术专长型模板
- 任务：实现模板样式系统

**周三**
- 上午：设计学术研究型模板
- 下午：开发模板渲染引擎核心
- 任务：实现模板变量替换功能

**周四**
- 上午：完成简历内容与模板关联机制
- 下午：实现模板切换功能
- 任务：开发模板预览功能

**周五**
- 上午：完成简历预览功能
- 下午：代码审查和合并，周总结会议
- 任务：模板渲染性能优化

#### 第4周：简历编辑器基础功能

**周一**
- 上午：编辑器设计会议
- 下午：开发简历编辑页面布局
- 任务：实现编辑模式切换

**周二**
- 上午：开发个人信息编辑模块
- 下午：实现教育背景编辑模块
- 任务：创建表单验证规则

**周三**
- 上午：开发工作经历编辑模块
- 下午：实现项目经验编辑模块
- 任务：实现数据自动保存功能

**周四**
- 上午：开发技能清单编辑模块
- 下午：实现证书与语言能力模块
- 任务：完成编辑器与API的对接

**周五**
- 上午：完成简历数据CRUD操作
- 下午：代码审查和合并，周总结会议
- 任务：编辑器用户体验优化

#### 第5周：AI集成基础功能

**周一**
- 上午：AI集成设计会议
- 下午：配置DeepSeek AI API连接
- 任务：创建API调用工具类

**周二**
- 上午：实现简历内容检查API
- 下午：开发内容检查前端界面
- 任务：创建AI请求队列管理

**周三**
- 上午：实现基础内容生成API
- 下午：开发内容生成前端界面
- 任务：实现AI响应缓存机制

**周四**
- 上午：完成AI功能集成测试
- 下午：开发AI使用统计功能
- 任务：实现API错误处理

**周五**
- 上午：MVP功能测试和修复
- 下午：代码审查和合并，阶段总结会议
- 任务：准备MVP演示文档

### 第二阶段：功能完善（第6-11周）

#### 第6-7周：简历版本管理系统

**第6周周一**
- 上午：版本管理设计会议
- 下午：设计版本管理数据模型
- 任务：创建版本表结构

**第6周周二**
- 上午：实现版本创建功能
- 下午：开发版本保存API
- 任务：创建版本差异比较算法

**第6周周三**
- 上午：开发版本切换功能
- 下午：实现版本历史记录页面
- 任务：创建版本标签管理

**第6周周四**
- 上午：实现版本对比工具前端
- 下午：开发版本恢复功能
- 任务：实现版本命名和描述功能

**第6周周五**
- 上午：完成版本管理基础功能测试
- 下午：代码审查和合并，周总结会议
- 任务：优化版本切换性能

**第7周周一**
- 上午：版本管理功能增强会议
- 下午：实现高级版本对比（高亮差异）
- 任务：开发版本分支功能

**第7周周二**
- 上午：优化版本历史记录UI
- 下午：实现批量版本操作功能
- 任务：创建版本导出功能

**第7周周三**
- 上午：开发版本管理统计功能
- 下午：实现版本搜索功能
- 任务：创建版本自动保存策略

**第7周周四**
- 上午：完成版本管理系统集成测试
- 下午：性能优化和Bug修复
- 任务：编写版本管理使用文档

**第7周周五**
- 上午：版本管理功能最终测试
- 下午：代码审查和合并，阶段总结会议
- 任务：准备版本管理演示

#### 第8-9周：岗位匹配分析功能

**第8周周一**
- 上午：岗位匹配分析设计会议
- 下午：设计匹配分析数据模型
- 任务：创建关键词提取算法

**第8周周二**
- 上午：实现岗位描述解析功能
- 下午：开发关键词匹配算法
- 任务：创建技能映射表

**第8周周三**
- 上午：开发匹配度计算逻辑
- 下午：实现匹配结果数据结构
- 任务：创建匹配分析API

**第8周周四**
- 上午：开发匹配分析前端页面
- 下午：实现技能差距可视化
- 任务：创建匹配度报告生成器

**第8周周五**
- 上午：完成匹配分析基础功能测试
- 下午：代码审查和合并，周总结会议
- 任务：优化匹配算法准确性

**第9周周一**
- 上午：匹配分析功能增强会议
- 下午：实现高级推荐补充内容功能
- 任务：开发行业特定关键词库

**第9周周二**
- 上午：优化匹配报告UI
- 下午：实现匹配历史记录功能
- 任务：创建岗位描述模板库

**第9周周三**
- 上午：开发批量匹配分析功能
- 下午：实现匹配结果导出功能
- 任务：创建匹配度趋势分析

**第9周周四**
- 上午：完成匹配分析系统集成测试
- 下午：性能优化和Bug修复
- 任务：编写匹配分析使用文档

**第9周周五**
- 上午：匹配分析功能最终测试
- 下午：代码审查和合并，阶段总结会议
- 任务：准备匹配分析演示

#### 第10-11周：多格式导出和高级AI功能

**第10周周一**
- 上午：导出功能设计会议
- 下午：研究PDF生成库
- 任务：创建PDF导出服务

**第10周周二**
- 上午：实现PDF格式简历导出功能
- 下午：开发DOCX格式支持
- 任务：创建文档样式转换器

**第10周周三**
- 上午：完成DOCX格式简历导出
- 下午：实现导出选项配置界面
- 任务：创建导出质量优化工具

**第10周周四**
- 上午：开发高级AI内容生成API
- 下午：实现成就量化功能
- 任务：创建专业术语库

**第10周周五**
- 上午：完成AI内容生成基础功能测试
- 下午：代码审查和合并，周总结会议
- 任务：优化导出性能和质量

**第11周周一**
- 上午：高级AI功能增强会议
- 下午：实现专业表述优化功能
- 任务：开发行业特定语言模型

**第11周周二**
- 上午：开发求职信生成功能
- 下午：实现自我介绍生成功能
- 任务：创建生成内容个性化选项

**第11周周三**
- 上午：优化AI生成内容质量
- 下午：实现生成历史记录功能
- 任务：创建AI使用建议系统

**第11周周四**
- 上午：完成全部功能集成测试
- 下午：性能优化和Bug修复
- 任务：编写功能使用文档

**第11周周五**
- 上午：完整功能版本发布准备
- 下午：代码审查和合并，阶段总结会议
- 任务：准备功能演示和文档

### 第三阶段：优化阶段（第12-15周）

#### 第12-13周：性能优化和用户体验改进

**第12周周一**
- 上午：性能优化计划会议
- 下午：进行性能基准测试
- 任务：创建性能优化清单

**第12周周二**
- 上午：优化前端渲染性能
- 下午：实现组件懒加载
- 任务：创建资源优化策略

**第12周周三**
- 上午：实现数据懒加载
- 下午：开发虚拟滚动列表
- 任务：优化大数据渲染

**第12周周四**
- 上午：优化移动端响应式体验
- 下午：实现触摸手势支持
- 任务：创建移动设备兼容性测试

**第12周周五**
- 上午：完成性能优化基础测试
- 下午：代码审查和合并，周总结会议
- 任务：对比性能优化前后数据

**第13周周一**
- 上午：用户体验改进会议
- 下午：实现离线工作能力
- 任务：创建本地存储策略

**第13周周二**
- 上午：优化用户操作流程
- 下午：改进表单交互体验
- 任务：创建键盘快捷键支持

**第13周周三**
- 上午：开发自定义主题功能
- 下午：实现深色模式支持
- 任务：创建用户偏好设置

**第13周周四**
- 上午：完成用户体验改进测试
- 下午：进行用户反馈收集和分析
- 任务：根据反馈进行调整

**第13周周五**
- 上午：性能和体验优化最终测试
- 下午：代码审查和合并，阶段总结会议
- 任务：准备优化结果报告

#### 第14-15周：安全加固和数据备份

**第14周周一**
- 上午：安全加固计划会议
- 下午：进行安全漏洞扫描
- 任务：创建安全加固清单

**第14周周二**
- 上午：增强数据加密机制
- 下午：实现敏感信息保护
- 任务：创建加密密钥管理

**第14周周三**
- 上午：实现定期数据备份功能
- 下午：开发备份策略配置
- 任务：创建备份验证机制

**第14周四**
- 上午：开发数据恢复工具
- 下午：实现备份历史管理
- 任务：创建备份导出功能

**第14周五**
- 上午：完成安全加固基础测试
- 下午：代码审查和合并，周总结会议
- 任务：进行安全渗透测试

**第15周周一**
- 上午：最终优化计划会议
- 下午：完成安全审计和修复
- 任务：创建安全最佳实践文档

**第15周周二**
- 上午：优化数据备份和恢复流程
- 下午：实现备份自动化测试
- 任务：创建灾难恢复计划

**第15周三**
- 上午：完成最终性能调优
- 下午：进行全面系统测试
- 任务：创建系统监控方案

**第15周四**
- 上午：进行用户验收测试
- 下午：修复最终Bug和问题
- 任务：准备发布文档

**第15周五**
- 上午：最终版本发布准备
- 下午：项目总结会议，经验分享
- 任务：归档项目文档和代码

## 部署说明

### 生产环境构建
```bash
npm run build
```

### 启动生产服务器
```bash
npm start
```